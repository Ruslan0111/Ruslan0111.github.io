{"version":3,"sources":["pages/Login/index.js"],"names":["Login","onSignIn","history","useHistory","emailEl","useRef","passwordEl","errorEl1","errorEl2","className","onSubmit","e","email","password","preventDefault","current","innerText","value","firebase","auth","signInWithEmailAndPassword","then","userCredential","user","sessionStorage","setItem","JSON","stringify","push","process","catch","error","errorCode","code","errorMessage","message","console","log","ref","type","placeholder","to"],"mappings":"4HAAA,wDA4DeA,UArDf,YAA6B,EAAZC,SAAa,IACtBC,EAAUC,cAEVC,EAAUC,iBAAO,MACjBC,EAAaD,iBAAO,MAEpBE,EAAWF,iBAAO,MAClBG,EAAWH,iBAAO,MA+BxB,OACE,qBAAKI,UAAU,QAAf,SACE,uBAAMC,SA/BV,SAAsBC,GAOtB,IAAeC,EAAOC,EANpBF,EAAEG,iBACFP,EAASQ,QAAQC,UAAY,GAC7BR,EAASO,QAAQC,UAAY,GAIhBJ,EAHPR,EAAQW,QAAQE,MAGFJ,EAHSP,EAAWS,QAAQE,MAIhDC,IAASC,OAAOC,2BAA2BR,EAAOC,GAC/CQ,MAAK,SAACC,GACL,IAAMC,EAAOD,EAAeC,KAE5BC,eAAeC,QAAQ,OAAQC,KAAKC,UAAUJ,IAC9CrB,EAAQ0B,KAAR,UAAgBC,YAAhB,SAEDC,OAAM,SAACC,GACN,IAAMC,EAAYD,EAAME,KAClBC,EAAeH,EAAMI,QACT,wBAAdH,EACFzB,EAASQ,QAAQC,UAAY,eACN,wBAAdgB,IACTxB,EAASO,QAAQC,UAAY,iBAG/BoB,QAAQC,IAAIL,GACZI,QAAQC,IAAIH,OAMgBzB,UAAU,cAAxC,UACE,mDACA,mBAAG6B,IAAK/B,EAAUE,UAAU,iBAC5B,uBAAO8B,KAAK,QAAQD,IAAKlC,EAASoC,YAAY,UAC9C,mBAAGF,IAAK9B,EAAUC,UAAU,iBAC5B,uBAAO8B,KAAK,WAAWD,IAAKhC,EAAYkC,YAAY,aACpD,wBAAQD,KAAK,SAAb,mBACA,4DAA8B,cAAC,IAAD,CAAME,GAAE,UAAKZ,YAAL,aAAR","file":"static/js/4.9ee8e1cc.chunk.js","sourcesContent":["import { useRef } from 'react';\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nimport './index.scss';\r\n\r\nimport firebase from 'firebase/app';\r\n\r\nfunction Login({ onSignIn }) {\r\n  const history = useHistory();\r\n\r\n  const emailEl = useRef(null);\r\n  const passwordEl = useRef(null);\r\n\r\n  const errorEl1 = useRef(null);\r\n  const errorEl2 = useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    errorEl1.current.innerText = '';\r\n    errorEl2.current.innerText = '';\r\n    login(emailEl.current.value, passwordEl.current.value);\r\n  }\r\n\r\n  function login(email, password) {\r\n    firebase.auth().signInWithEmailAndPassword(email, password)\r\n      .then((userCredential) => {\r\n        const user = userCredential.user;\r\n\r\n        sessionStorage.setItem('user', JSON.stringify(user));\r\n        history.push(`${process.env.PUBLIC_URL}/`);\r\n      })\r\n      .catch((error) => {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        if (errorCode === 'auth/user-not-found') {\r\n          errorEl1.current.innerText = 'No such user';\r\n        } else if (errorCode === 'auth/wrong-password') {\r\n          errorEl2.current.innerText = 'Wrong passord';\r\n        }\r\n        \r\n        console.log(errorCode);\r\n        console.log(errorMessage);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <form onSubmit={handleSubmit} className=\"login__form\">\r\n        <h1>Complete the form</h1>\r\n        <p ref={errorEl1} className=\"login__error\"></p>\r\n        <input type=\"email\" ref={emailEl} placeholder=\"Email\" />\r\n        <p ref={errorEl2} className=\"login__error\"></p>\r\n        <input type=\"password\" ref={passwordEl} placeholder=\"Password\" />\r\n        <button type=\"submit\">Login</button>\r\n        <p>Don't have an account yet? <Link to={`${process.env.PUBLIC_URL}/register`}>Register now</Link></p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"sourceRoot":""}