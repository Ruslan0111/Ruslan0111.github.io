{"version":3,"sources":["pages/Register/index.js"],"names":["Register","onSignIn","history","useHistory","emailEl","useRef","nameEl","passwordEl","errorEl","className","onSubmit","e","email","password","preventDefault","current","innerText","value","firebase","auth","createUserWithEmailAndPassword","then","userCredential","user","updateProfile","displayName","sessionStorage","setItem","JSON","stringify","push","process","catch","error","console","log","errorCode","code","errorMessage","message","type","ref","placeholder","required","to"],"mappings":"4HAAA,wDAgEeA,UAzDf,YAAgC,EAAZC,SAAa,IACzBC,EAAUC,cAEVC,EAAUC,iBAAO,MACjBC,EAASD,iBAAO,MAChBE,EAAaF,iBAAO,MAEpBG,EAAUH,iBAAO,MAmCvB,OACE,qBAAKI,UAAU,eAAf,SACE,uBAAMC,SAnCV,SAAsBC,GAMtB,IAAgBC,EAAOC,EALrBF,EAAEG,iBACFN,EAAQO,QAAQC,UAAY,GAIdJ,EAHPR,EAAQW,QAAQE,MAGFJ,EAHSN,EAAWQ,QAAQE,MAIjDC,IAASC,OAAOC,+BAA+BR,EAAOC,GACnDQ,MAAK,SAACC,GACL,IAAMC,EAAOD,EAAeC,KAE5BA,EAAKC,cAAc,CACjBC,YAAanB,EAAOS,QAAQE,QAE3BI,MAAK,WACJK,eAAeC,QAAQ,OAAQC,KAAKC,UAAUN,IAC9CrB,EAAQ4B,KAAR,UAAgBC,YAAhB,SAEDC,OAAM,SAASC,GACdC,QAAQC,IAAIF,SAGjBD,OAAM,SAACC,GACN,IAAMG,EAAYH,EAAMI,KAClBC,EAAeL,EAAMM,QACT,uBAAdH,IACF5B,EAAQO,QAAQC,UAAY,4CAE9BkB,QAAQC,IAAIC,GACZF,QAAQC,IAAIG,OAMgB7B,UAAU,qBAAxC,UACE,mDACA,uBAAO+B,KAAK,OAAOC,IAAKnC,EAAQoC,YAAY,YAAYC,UAAQ,IAChE,uBAAOH,KAAK,QAAQC,IAAKrC,EAASsC,YAAY,QAAQC,UAAQ,IAC9D,mBAAGF,IAAKjC,EAASC,UAAU,wBAC3B,uBAAO+B,KAAK,WAAWC,IAAKlC,EAAYmC,YAAY,WAAWC,UAAQ,IACvE,wBAAQH,KAAK,SAAb,oBACA,0DAA4B,cAAC,IAAD,CAAMI,GAAE,UAAKb,YAAL,UAAR","file":"static/js/5.a5921369.chunk.js","sourcesContent":["import { useRef } from 'react';\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nimport './index.scss';\r\n\r\nimport firebase from 'firebase/app';\r\n\r\nfunction Register({ onSignIn }) {\r\n  const history = useHistory();\r\n\r\n  const emailEl = useRef(null);\r\n  const nameEl = useRef(null);\r\n  const passwordEl = useRef(null);\r\n  \r\n  const errorEl = useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    errorEl.current.innerText = '';\r\n    signUp(emailEl.current.value, passwordEl.current.value);\r\n  }\r\n\r\n  function signUp(email, password) {\r\n    firebase.auth().createUserWithEmailAndPassword(email, password)\r\n      .then((userCredential) => {\r\n        const user = userCredential.user;\r\n\r\n        user.updateProfile({\r\n          displayName: nameEl.current.value\r\n        })\r\n          .then(function() {\r\n            sessionStorage.setItem('user', JSON.stringify(user));\r\n            history.push(`${process.env.PUBLIC_URL}/`);\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        if (errorCode === 'auth/weak-password') {\r\n          errorEl.current.innerText = 'Password should be at least 6 characters';\r\n        }\r\n        console.log(errorCode);\r\n        console.log(errorMessage);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"registration\">\r\n      <form onSubmit={handleSubmit} className=\"registration__form\">\r\n        <h1>Complete the form</h1>\r\n        <input type=\"text\" ref={nameEl} placeholder=\"Your name\" required />\r\n        <input type=\"email\" ref={emailEl} placeholder=\"Email\" required />\r\n        <p ref={errorEl} className=\"registration__error\"></p>\r\n        <input type=\"password\" ref={passwordEl} placeholder=\"Password\" required />\r\n        <button type=\"submit\">Submit</button>\r\n        <p>Already have an account? <Link to={`${process.env.PUBLIC_URL}/login`}>Login</Link></p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"sourceRoot":""}